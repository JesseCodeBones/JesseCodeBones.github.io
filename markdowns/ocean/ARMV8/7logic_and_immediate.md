## 立即数逻辑与操作

AND <Wd|WSP>, <Wn>, #<imm>

指令接受三个参数构成 imm  
1. N
2. imms
3. immr

组成逻辑：  
N, imms, immr字段的作用：

N 和 imms共同决定二进制模式串s的长度，以及模式串s有几个连续的1。

immr： r即rotate，表示模式串s的循环右移次数，范围 0 ~ 63。

N和imms的取值组合参考下表：

|N	|imms						|模式串长度|
|-|-|-|
|0	|1	1	1	1	0	x	   | 2 位|
|0	|1	1	1	0	x	x	   | 4 位|
|0	|1	1	0	x	x	x	   | 8 位|
|0	|1	0	x	x	x	x	   | 16 位|
|0	|0	x	x	x	x	x	   | 32 位|
|1	|x	x	x	x	x	x	   | 64 位|
对于给定的N和imms，x可以取0或1，但不允许所有的x同时取1，因此对于n位的模式串，x的取值组合有 n - 1种情况。

以下举几个例子帮助理解：

N = 0 imms = 1 1 1 0 1 0， 表示模式串长度为4，且模式串中连续1的个数为 10 'b + 1 = 3，即 0111。此时immr的范围[0, 3]

immr = 0， 表示立即数为 0111 0111 0111 0111 0111 0111 0111 0111 0111 0111 0111 0111 0111 0111 0111 0111 = 0x7777777777777777
immr = 2, 表示模式串循坏右移2次 （0111 -> 1101)，立即数为 1101 1101 1101 1101 1101 1101 1101 1101 1101 1101 1101 1101 1101 1101 1101 1101 = 0xdddddddddddd
N = 0 imms = 1 1 1 1 0 0，表示模式串长度为2，且模式串中连续1的个数为 0 'b + 1 = 1，即 01。此时immr的范围[0, 1]

immr = 0，表示立即数 01 01 … 01 b(连续32个01组成)，即 0x5555555555555555
immr = 1，表示模式串循坏右移1次（01 -> 10），立即数 10 10 … 10 b(连续32个10组成)，即 0xaaaaaaaaaaaaaaaa

